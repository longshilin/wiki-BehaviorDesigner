# 行为树或有限状态机
在什么情况下，您会在有限状态机（例如Playmaker）上使用行为树？在最高级别，行为树用于AI，而有限状态机（FSM）用于更通用的可视化编程。虽然可以将行为树用于一般的可视化编程，也可以将有限的状态机用于AI，但这并不是每种工具的设计目的。有些人认为，有限状态机的时代已经结束。我们不会走得那么远，但是在AI方面，行为树无疑具有优于有限状态机的优势。

行为树相对于FSM具有一些优点：它们提供了很大的灵活性，非常强大，并且确实易于更改。

首先让我们看一下第一个优点：灵活性。使用FSM，如何同时运行两个不同的状态？唯一的方法是创建两个单独的FSM。使用行为树，您所需要做的就是添加并行任务，然后完成–所有子任务将并行运行。使用Behavior Designer，这些子任务可以是PlayMaker FSM，而这些FSM将并行运行。

灵活性的另一个例子是任务守卫任务。在此示例中，您有两个执行声音效果的不同任务。
这两个不同的任务位于行为树的两个不同分支中，因此它们彼此之间不了解并且可能同时播放声音效果。
您不希望这种情况发生，因为听起来不太好。在这种情况下，您可以添加一个信号量任务（在Behavior Designer中称为Task Guard），并且一次只能播放一种声音效果。当第一个声音播放完毕时，第二个声音将开始播放。

行为树的另一个优点是它们功能强大。
这并不是说FSM功能不强大，只是它们以不同的方式发挥功能。
在我们看来，行为树比有限状态机更容易使您的AI对当前游戏状态做出反应。
创建一个能够对各种情况做出反应的行为树比较容易，而为了拥有相似的AI，需要使用有限状态机进行大量状态和转换的行为树。
为了使用FSM获得相同的结果，您将最终得到意大利面条状态机。
最终行为树的一个优势是，它们确实很容易进行更改。
行为树变得如此流行的原因之一是因为它们易于使用可视化编辑器创建。
如果要使用FSM更改状态执行顺序，则必须更改状态之间的转换。
使用行为树，您要做的就是拖动任务。
您不必担心过渡。
同样，仅通过更改周围的任务或向任务的分支添加新的父任务来完全改变AI对不同情况的反应确实很容易。
话虽如此，行为树和FSM不必相互排斥。
行为树可以描述AI的流程，而FSM可以描述功能。
这种组合为您提供了行为树的功能，同时仍具有FSM的功能。

